{"version":3,"sources":["../../../src/service/correios/index.mjs"],"sourcesContent":["import { Requester } from \"../../requester/index.mjs\"\nimport { CepService } from \"../index.mjs\"\nimport { parseParamsToXML, responseToCep } from \"./adapters.mjs\"\n\nexport class CorreiosService extends CepService {\n\tconstructor() {\n\t\tsuper(\"correios\")\n\t\tthis.baseUrl = \"https://apps.correios.com.br\"\n\t}\n\n\tasync handler(cep) {\n\t\tconst request = await Requester({\n\t\t\turl: `${this.baseUrl}/SigepMasterJPA/AtendeClienteService/AtendeCliente`,\n\t\t\tbody: parseParamsToXML(cep),\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/xml\",\n\t\t\t},\n\t\t})\n\t\tconst data = await request.text()\n\n\t\tif (!request.ok) {\n\t\t\tthrow new Error(data)\n\t\t}\n\n\t\treturn responseToCep(data)\n\t}\n}\n"],"names":["CorreiosService","CepService","constructor","baseUrl","handler","cep","request","Requester","url","body","parseParamsToXML","method","headers","data","text","ok","Error","responseToCep"],"mappings":"AAAA,iHAA0B,2BAA2B,UAC1B,cAAc,UACO,gBAAgB,oEAFtC,2BAA2B,CAC1B,cAAc,CACO,gBAAgB,oQAEnDA,iBAAe,0BAAfA,eAAe,EAArB,OAAMA,eAAe,SAASC,UAAU,WAAA,CAC9CC,aAAc,CACb,KAAK,CAAC,UAAU,CAAC,AACjB,CAAA,IAAI,CAACC,OAAO,CAAG,8BAA8B,CAC7C,AAED,MAAMC,OAAO,CAACC,GAAG,CAAE,CAClB,MAAMC,OAAO,CAAG,MAAMC,GAAAA,SAAS,UAAA,EAAC,CAC/BC,GAAG,CAAE,CAAC,EAAE,IAAI,CAACL,OAAO,CAAC,kDAAkD,CAAC,CACxEM,IAAI,CAAEC,GAAAA,YAAgB,iBAAA,EAACL,GAAG,CAAC,CAC3BM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACR,cAAc,CAAE,iBAAiB,CACjC,CACD,CAAC,AACF,OAAMC,IAAI,CAAG,MAAMP,OAAO,CAACQ,IAAI,EAAE,AAEjC,IAAI,CAACR,OAAO,CAACS,EAAE,CAAE,CAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAAC,CACrB,AAED,MAAOI,GAAAA,YAAa,cAAA,EAACJ,IAAI,CAAC,CAC1B,CACD,EAAA"}